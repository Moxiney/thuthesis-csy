# 毕业论文大纲

## 引言（6页）
本部分主要介绍项目的背景，意义以及研究贡献，附带解释文章的组织结构

1. **研究背景**
  1. NVM 介质技术
  2. 传统数据库的瓶颈
  3. NVM 数据库工作的基本情况及瓶颈：着重强调垃圾回收机制和恢复的重要性，可能要强调 crash consistency 的概念。
2. **研究难点**：介绍 NVM 上解决恢复问题和垃圾回收问题的困难之处。参考小论文，扩大得讲。
3. **研究内容和贡献**：为了解决上述难点，我们做了什么研究。对于几个问题，我们实现了几种设计选项。
4. **文章的组织结构**：简单介绍一下各个部分介绍了啥，水字数。


## 研究背景综述（8页）

1. **NVM 介质的相关应用**
2. **NVM 数据库的现有工作**
3. **数据库垃圾回收工作**
4. **数据库恢复工作**
  1. 数据库恢复原则
  2. 写前日志简介
  3. 基于写前日志的数据恢复流程

## 基于 NVM 的零拷贝，无日志的数据库存储引擎（6页）

1. **存储引擎的数据组织结构**
2. **基于多版本的元组存储结构**
  1. 元组 head 的数据结构
  2. 元组 version 的数据结构
3. **垃圾回收和数据恢复的关系**

## 垃圾回收机制设计（12页）

1. **多版本并发控制算法**
2. **可回收的数据**
3. **垃圾回收的时机**
4. **具体工程实现**
  1. 垃圾回收的元数据设计：介绍一下元数据的格式。
  2. 并发的优化：待定，大概意思是针对多线程并发的所增加的优化。

## 数据恢复机制设计（12页）
1. **NVM 分配器的恢复流程**
2. **数据库元数据的恢复流程**
3. **元组信息的恢复流程**
4. **恢复机制的正确性**
5. **系统工程实现**
  1. 数据库数据结构组织形式
  2. 保证崩溃一致性的数据分配机制的优化

## 实验效果
1. **实验设置**
2. **benchmark**
3. **总体性能**
4. **垃圾回收性能**
5. **数据恢复性能**

## 相关工作
1. **NVM 分配器**
2. **NVM 事务内存**
3. **NVM 数据库的日志系统**

## 结论（2页）

# 计划

3/8-3/14: 存储引擎、垃圾回收
3/15-3/21: 数据恢复、实验性能
3/21-3-28: 绪论、背景、结论（相关工作，未来工作，总结）

# 资料

# NVM 数据库的垃圾回收和系统恢复机制研究

1. **引言**
   1. 研究背景：介绍 NVM 数据库相对于传统数据库的优劣，强调垃圾回收和数据恢复的重要性，之后是难点和挑战。
   2. 研究内容：
      - 垃圾回收和数据恢复的关系
      - 垃圾回收：目的和效果
      - 数据恢复：目的和效果
   3. 主要贡献
   4. 本文组织结构
2. 研究背景：
   1. NVM 存储介质及相关应用
      1. NVM 分配器
      2. NVM 事务内存
   2. 基于 NVM 的数据库管理系统
      1. NVM 数据库现有工作
      2. N2DB 存储引擎简介
   3. 数据库的垃圾回收机制
   4. 数据库的数据恢复机制及日志系统
      1. 数据恢复的原则
      2. 日志系统简介
      3. 基于 WAL 的数据恢复流程
3. 垃圾回收机制设计
   1. 本章概述
   2. 多版本并发控制算法
   3. 垃圾回收的对象
      1. 运行时的垃圾回收对象
      2. 恢复时的垃圾回收对象
   4. 垃圾回收的时机
      1. 运行时的垃圾回收时机
      2. 恢复时的垃圾回收时机
   5. 系统工程实现
      1. 垃圾回收元数据设计
      2. 事务提交及中止的流程
      3. 垃圾回收的流程
   6. 本章小结
4. 数据恢复机制设计
   1. 本章概述
   2. 存储结构优化：介绍下为了无日志恢复对于存储引擎的修改，主要是目录和分配器
   3. 数据恢复流程：
      1. NVM 分配器的恢复
      2. 数据库元数据的恢复
      3. 数据库记录数据的恢复
   4. 数据恢复的正确性
   5. 系统工程实现
   6. 本章小结
5. 实验与评价
   1. 实验设置及实验负载
   2. 垃圾回复性能对比实验
      1. 吞吐率
      2. 存储空间
   3. 数据恢复性能对比实验
      1. 数据恢复时间
      2. 存储空间
   4. 本章小结
6. 结论与未来工作
   